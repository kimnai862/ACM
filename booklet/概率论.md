##概率论

###足球问题

​	有n顶帽子被抛向空中，没有人得到正确帽子的概率是$\frac{1}{e}$,恰好有k个人得到自己帽子的概率是

$P(n,k)=\frac{1}{n!}C(n,k)f(n-k)=\frac{1}{k!}\frac{f(n-k)}{(n-k)!},f(n)=\frac{n!}{0!}-\frac{n!}{1!}+...+(-1)^n\frac{n!}{n!}$ 

###抛硬币问题

反复抛掷一枚硬币知道第一次出现正面，恰好需要k次的概率是多少

​	设k对应的概率为$q^{k-1}p$ 

​	有生成函数 $pz+qpz^2+q^2pz^3+...=\frac{pz}{1-qz}$

​	过程重复到得到n个正面

​	有生成函数$(\frac{pz}{1-qz})^n=\sum_kC(k-1,k-n)p^nq^{k-n}z^k$ 

### Penney赌注游戏

​	Alice和Bill抛掷一枚硬币直到HHT或者HTT出现，如果HHT首先出现，则Alice获胜，如果HTT首先出现，则Bill获胜

​	设$S_A$为Alice获胜的概率，$S_B$是Bill获胜的概率

​	则$S_A=\frac{2}{3}，S_B=\frac{1}{3}$ 

推广：

​	Alice和Bill选取由正面和反面组成的模式A和B，他们抛掷硬币直到A或B出现。这两个模式不必有同样的长度，但是我们假设A不在B的内部出现，B也不在A的内部出现

​	设$A^{(k)}$和$A_{(k)}$分别表示A的最后面k个字符以及最前面k个字符

​	 $A:B=\sum_{k=1}^{min(l,m)}2^{k-1}[A^{(k)}=B_{(k)}]$ 

​	则： $\frac{S_A}{S_B}=\frac{B:B-B:A}{A:A-A:B}$ 

​	如果Alice选择了长度$l\geqslant3$的任何一种模式$a_1a_2...a_l$,而如果Bill选择模式$\overline{a_2}a_1a_2...a_{l-1}$,那么Bill总能确保他有比$\frac{1}{2}$更大的获胜可能性